<html>


<head>
 <title>Thermometer Lab</title>
</head>


<body>
 <h1>Thermometer Lab</h1>
 <input type = "range" min = "0" max = "212" id = "temp-slider" onchange = "newTemp()"/>
  <br>
 <input type="radio" id="cel" name="scale" value="cel" checked onclick = "update_scale()">
 <label for="cel">Celsius</label>
  <br>
 <input type="radio" id="fah" name="scale" value="fah" onclick = "update_scale()">
 <label for="fah">Fahrenheit</label><br>
 <div>
   <svg version="1.1" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" height="50%" width="75%" id = "graphic-cont">
     <style>
       #glass {
         fill: #ffffff;
         stroke: #cccccc;
         stroke-width: 3;
       }


       #container {
         fill: #ffffff;
         stroke: #000000;
         stroke-width: 5;
       }


       .temp-label{
         font-size: 10px;
       }
     </style>


     <rect id="container" x="10" y="10" width="150" height="210" rx="15" />


     <g id="glass">
       <rect x="45" y="20" width="30" height="160" rx="15" />
       <ellipse cx="60" cy="180" rx="30" ry="30" />
       <rect x="46.5" y="22" width="27" height="165" rx="15" stroke="none" />
     </g>
     <g id = "temp-ind" fill = "red" stroke = "red">
     <line x1 = "60" y1 = "180" x2 = 60 y2 = "100" stroke-width = "20" stroke-linecap = "round" id = "temp-ind-bar"/>
     <ellipse cx="60" cy="180" rx="25" ry="25" id = "temp-ind-bulb" />
     </g>

     <path d=" M 61 203 A 23 23 0 0 1 38 187" stroke = "white" stroke-width = "3" fill = "red" stroke-linecap = "round" id = "path1"/>
     <path d=" M 41 166 A 23 23 0 0 1 51 159" stroke = "white" stroke-width = "3" fill = "red" stroke-linecap = "round" id = "path2"/>

     <line y1="160" x1="110" y2="160" x2="120" stroke="black" stroke-width="3" stroke-linecap="round"></line>
     <line y1="150" x1="110" y2="150" x2="120" stroke="black" stroke-width="3" stroke-linecap=" round"></line>
     <line y1="140" x1="110" y2="140" x2="120" stroke="black" stroke-width="3" stroke-linecap="round"></line>
     <line y1="130" x1="110" y2="130" x2="120" stroke="black" stroke-width="3" stroke-linecap=" round"></line>
     <line y1="120" x1="110" y2="120" x2="120" stroke="black" stroke-width="3" stroke-linecap="round"></line>
     <line y1="110" x1="110" y2="110" x2="120" stroke="black" stroke-width="3" stroke-linecap=" round"></line>
     <line y1="100" x1="110" y2="100" x2="120" stroke="black" stroke-width="3" stroke-linecap="round"></line>
     <line y1="90" x1="110" y2="90" x2="120" stroke="black" stroke-width="3" stroke-linecap="round"></line>
     <line y1="80" x1="110" y2="80" x2="120" stroke="black" stroke-width="3" stroke-linecap=" round"></line>
     <line y1="70" x1="110" y2="70" x2="120" stroke="black" stroke-width="3" stroke-linecap="round"></line>
     <line y1="60" x1="110" y2="60" x2="120" stroke="black" stroke-width="3" stroke-linecap="round"></line>
     <line y1="50" x1="110" y2="50" x2="120" stroke="black" stroke-width="3" stroke-linecap="round"></line>
     <line y1="40" x1="110" y2="40" x2="120" stroke="black" stroke-width="3" stroke-linecap="round"></line>


     <text x="125" y="163" class="temp-label">0</text>
     <text x="125" y="153" class="temp-label">0</text>
     <text x="125" y="143" class="temp-label">0</text>
     <text x="125" y="133" class="temp-label">0</text>
     <text x="125" y="123" class="temp-label">0</text>
     <text x="125" y="113" class="temp-label">0</text>
     <text x="125" y="103" class="temp-label">0</text>
     <text x="125" y="93" class="temp-label">0</text>
     <text x="125" y="83" class="temp-label">0</text>
     <text x="125" y="73" class="temp-label">0</text>
     <text x="125" y="63" class="temp-label">0</text>
     <text x="125" y="53" class="temp-label">0</text>
     <text x="125" y="43" class="temp-label">0</text>
   </svg>
 </div>


 <script>
   slider = document.getElementById("temp-slider")
   var temp = slider.value
  
   var glass = document.getElementById("glass")
   var temp_ind = document.getElementById("temp-ind")
   var temp_ind_bar = document.getElementById("temp-ind-bar")


   var svg = document.getElementById("graphic-cont")


   var minheight = 160
   var maxheight = 37
   labels = document.getElementsByClassName("temp-label")
   console.log(labels)
   radio_c = document.getElementById("cel")
   radio_f = document.getElementById("fah")


   newTemp()
   function newTemp(){
     temp = slider.value
     console.log(temp)
     temp_ind_bar.setAttribute( "y2", (minheight + temp * (maxheight - minheight)/212).toString() )
     if (temp <= 33){
       console.log("cold")
       temp_ind.setAttribute("stroke", "lightblue")
       temp_ind.setAttribute("fill", "lightblue")
       document.getElementById("path1").setAttribute("fill", "lightblue")
       document.getElementById("path2").setAttribute("fill", "lightblue")
     }
     else if (temp > 33 && temp <= 100){
       console.log("warm")
       temp_ind.setAttribute("stroke", "orange")
       temp_ind.setAttribute("fill", "orange")
       document.getElementById("path1").setAttribute("fill", "orange")
       document.getElementById("path2").setAttribute("fill", "orange")
     }
     else if (temp > 100){
       console.log("hot")
       temp_ind.setAttribute("stroke", "red")
       temp_ind.setAttribute("fill", "red")
       document.getElementById("path1").setAttribute("fill", "red")
       document.getElementById("path2").setAttribute("fill", "red")
     }
    
   }


   function update_scale(){
     console.log("running update_scale()")
     console.log(labels.length)




     for (let i = 0; i < labels.length;i++){
       console.log(i)
       label = labels[i]
       let yval = label.getAttribute("y")
       yval -= 3
       let fval = 220*((minheight-yval)/(minheight-maxheight))
       let cval = (fval - 32)*5/9
       console.log(label)
       console.log(yval, fval, cval, radio_f.value, radio_c.value)
       if(radio_c.checked ){
         label.innerHTML = Math.round(cval).toString()
       }
       else{
         label.innerHTML = Math.round(fval).toString()
       }
     }
   }
   update_scale()
   // for(let i = minheight; i >= maxheight; i -= 10){
   //   console.log(i)
   //   gap = i - minheight
   //     var line = document.createElement("line")
   //     line.setAttribute("y1", i.toString())
   //     line.setAttribute("x1", "110")
   //     line.setAttribute("y2", i.toString())
   //     line.setAttribute("x2", "120")
   //     line.setAttribute("stroke", "black")
   //     line.setAttribute("stroke-width", "3")
   //     line.setAttribute("stroke-linecap", "round")
   //     text = document.createElement("text")
   //     text.setAttribute("x", "125")
   //     text.setAttribute("y", (i-3).toString())
   //     text.setAttribute("class", "temp-label")
   //     console.log(line)
   //     svg.appendChild(text)
   //     //svg.appendChild(line)
   // }
   //console.log(svg)
   // for (let i = 0; i < 100; i++) {
   //   console.log(i);
   // }




 </script>
</body>


</html>